---
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## **Training**

The Bioinformatics Resource Center provides ad hoc training for biologists as well as training courses covering topics such as ChIP-seq, RNA-seq analysis, sc/snRNA-seq, sc/snATAC-seq, data visualization and R/Bioconductor programming.

All course material is made publicly available and the core will be running training for basic bioinformatics analysis, reproducible research in R and python as well as visualizing data in genome browsers. For details on upcoming courses see our upcoming training or contact us at [brc\@rockefeller.edu](brc@rockefeller.edu).

As well as training in Bioinformatics methods, the Bioinformatics team can offer advice on the use of local compute resources (i.e. best practice in using R in cluster compute environment).

Daily updates to our training material can be found at <http://rockefelleruniversity.github.io/training>.

```{r, deps,include=FALSE, warning=F, message=F}
require(jsonlite)
require(DT)
require(magrittr)
require(dplyr)
library(lubridate)
library(stringr)

```

```{r loadcourses,include=FALSE, warning=F, message=F}
# this pulls from csv here: http://35.174.176.135/issues/2855
signup <- read.csv("~/Desktop/Training_Courses_BRC_MP.csv")
coursesTable <- fromJSON("course.json")
instructorTable <- fromJSON("instructors.json")

temp <- strsplit(signup$Instructors, " and |, ")

signup$Instructors <- sapply(temp, function(x){
  a <- merge(instructorTable, data.frame(Name=x), sort = F)
  to_cat <- paste0("<a href=\"",a[,2],"\">",a[,1],"</a>")
  for_out <- paste0(to_cat, collapse=", ")
  return(for_out)

})

signup$Links[is.na(signup$Links)] <- "placeholder.html"
signup <- signup[!nchar(signup$Course)==0,]

```

<br/><br/>

## **Courses**

Upcoming, graduate school and the full course list is available below.

All material for courses is hosted publicly and links to issues pages for support our listed within the relevant training pages. <br/><br/>

### Computational Biology Fortnight

To kick-off 2026 we will be hosting the first Rockefeller University Computational Biology Fortnight. Over these two weeks the BRC will host a series of workshops and talks with the help of the Vertebrate Genome Laboratory and The Rita & Frits Markus Library. See our poster advert [here](summary.pdf). Register for events below:

```{r compbioweek, echo=FALSE}

course <- c("Intro to C and C++","Intro To Python","Intro To R")
dates <- c("January 26/28/30 2026",
           "January 27/29 2026",
           "Feburary 04/05 2026")
time <- "9.30-4.30"
signups <-c("https://registration.rockefeller.edu/Introduction_to_Cpp_2026",
           "https://registration.rockefeller.edu/Introduction_To_Python_2026",
           "https://registration.rockefeller.edu/Introduction_To_R_2026")
materials <- c("placeholder.html",
               "https://rockefelleruniversity.github.io/Intro_To_Python/",
               "https://rockefelleruniversity.github.io/Intro_To_R_1Day/")

data.frame("Course" = course,
           "Dates" = dates,
           "Time" = time,
           "SignUp" = paste0("<a href=\"",signups,"\">Link</a>"),
           "Material" = paste0("<a href=\"",materials,"\">Link</a>")) %>%
  datatable(escape = FALSE)

# coursesTable %>%
#   filter(Public_Dates != "") %>%
#   select(Courses,Start_Date=Public_Dates, SignUp=SignUp, Material=Links) %>%
#   mutate(Material=paste0("<a href=\"",Material,"\">Link</a>"),
#          SignUp=paste0("<a href=\"",SignUp,"\">Register</a>")) %>%
#   datatable(escape = FALSE)
```

### Upcoming

The Bioinformatics Resource Center will be running the below courses in the near future.

To sign up to attend the course in person please click on the sign ups links in the table below.

```{r courseplan,echo=FALSE}

courses_planned <- TRUE

# need to get this uncommented
# if(any(signup$Final.Dates == "TBD")){
#   signup_temp <- signup[!signup$Final.Dates == "TBD",]
#   potent_dates <- signup_temp$Final.Dates %>% str_split(.," |/") %>% sapply(function(x) paste0(x[c(1:2, length(x))], collapse=" "))
#   potent_dates <- mdy(potent_dates)
#   idx <- potent_dates > today()
#   if(sum(idx)==0){
#     out_df <- signup[signup$Final.Dates == "TBD",]
#   } else {
#     out_df <- rbind(signup_temp[idx,],
#                     signup[signup$Final.Dates == "TBD",])
#   }}else{
#     potent_dates <- signup$Final.Dates %>% str_split(.," |/") %>% sapply(function(x) paste0(x[c(1:2, length(x))], collapse=" "))
#     potent_dates <- mdy(potent_dates)
#     idx <- potent_dates > today()
#     if(sum(idx)==0){
#       out_df<- data.frame("Course" =" We are planning new training sessions at the moment, but we have nothing scheduled. Check back soon and keep your eye out for emails.")
#       courses_planned <- FALSE
#       
#     } else {
#       out_df <- signup_temp[idx,]
#   }}

# remove this eventually

courses_planned <- TRUE

if(courses_planned){
  out_df <- signup
  }else{
  out_df <- data.frame("Course" =" We are planning new training sessions at the moment, but we have nothing scheduled. Check back soon and keep your eye out for emails.")
}

if(courses_planned){

out_df %>%
  select(Course,
         Dates=`Final.Dates`,
         Time,
         SignUp=SignUp, 
         Material=Links,
         Instructors=Instructors) %>% 
  mutate(Material=paste0("<a href=\"",Material,"\">Link</a>"),
         SignUp=paste0("<a href=\"",SignUp,"\">Register</a>")) %>%
  datatable(escape = FALSE)
} else{
  out_df %>%
  datatable(escape = FALSE)
}

# coursesTable %>%
#   filter(Public_Dates != "") %>%
#   select(Courses,Start_Date=Public_Dates, SignUp=SignUp, Material=Links) %>%
#   mutate(Material=paste0("<a href=\"",Material,"\">Link</a>"),
#          SignUp=paste0("<a href=\"",SignUp,"\">Register</a>")) %>%
#   datatable(escape = FALSE)
```

### Graduate School

The Bioinformatics Resource Center runs bioinformatics training as part of the graduate school. We recommend this collection of courses as a comprehensive syllabus for self-learning.

**Graduate School Bioinformatics course typically happens in the Spring/Summer Semester. Check with the Graduate School for the current schedule.**

Links and dates for material and classes are listed in the table below.

```{r,echo=FALSE}

coursesTable %>% 
  filter(Graduate_School_Dates != "") %>% 
  select(Courses,Start_Date=Graduate_School_Dates,Material=Links) %>%
  mutate(Material=paste0("<a href=\"",Material,"\">Link</a>")) %>% 
  datatable(escape = FALSE)
```

### Full course list

The below table lists all courses currently hosted by the Bioinformatic Resource Center.

If you would like us to host a local training session on any of this material please reach out to us at [brc\@rockefeller.edu](brc@rockefeller.edu).

```{r,echo=FALSE}
coursesTable %>% 
  select(Courses,Material=Links) %>%
  mutate(Material=paste0("<a href=\"",Material,"\">Link</a>")) %>% 
  datatable(escape = FALSE)
```
